<div
  id="header-info-bar-{{ section.id }}"
  class="header-info-bar color-{{ section.settings.color_scheme }}"
>
  <div class="header-info-bar__left">
    {% if section.settings.show_phone and section.settings.phone != blank %}
      <a href="tel:{{ section.settings.phone }}" class="header-info-bar__item header-info-bar__phone">
        {{ 'icon-phone.svg' | inline_asset_content }}
        <span>{{ section.settings.phone }}</span>
      </a>
    {% endif %}

    {% if section.settings.show_email and section.settings.email != blank %}
      <a href="mailto:{{ section.settings.email }}" class="header-info-bar__item header-info-bar__email">
        {{ 'icon-mailbox.svg' | inline_asset_content }}
        <span>{{ section.settings.email }}</span>
      </a>
    {% endif %}
  </div>

  <div class="header-info-bar__middle">
    {% if section.settings.show_promo_text and section.settings.promo_text != blank %}
      <div class="header-info-bar__item header-info-bar__promo">
        <span>{{ section.settings.promo_text }}</span>
        {% if section.settings.promo_link != blank %}
          <a href="{{ section.settings.promo_link }}" class="header-info-bar__promo-link">
            {{ section.settings.promo_link_text }}
          </a>
        {% endif %}
      </div>
    {% endif %}
  </div>

  <div class="header-info-bar__right">
    {% if section.settings.show_location and section.settings.location_text != blank %}
      <div class="header-info-bar__item header-info-bar__location">
        {{ 'icon-map-point.svg' | inline_asset_content }}
        <span>{{ section.settings.location_text }}</span>
      </div>
    {% endif %}

    {% comment %} {% if section.settings.show_currency_selector %}
      {% form 'localization', class: 'header-info-bar__item header-info-bar__currency' %}
        <svg class="header-info-bar__icon" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M2.4 2.4H13.6L12.8 3.2H3.2L2.4 2.4Z" fill="currentColor"/>
          <path d="M0.8 5.6H15.2L14.4 6.4H1.6L0.8 5.6Z" fill="currentColor"/>
          <path d="M0 8.8H16L15.2 9.6H0.8L0 8.8Z" fill="currentColor"/>
          <path d="M0.8 12H15.2L14.4 12.8H1.6L0.8 12Z" fill="currentColor"/>
        </svg>
        <select name="country_code" class="header-info-bar__select" onchange="this.form.submit()">
          {% for currency in localization.available_currencies %}
            <option value="{{ currency.iso_code }}" {% if currency.iso_code == localization.currency.iso_code %}selected{% endif %}>
              {{ currency.iso_code }} {{ currency.symbol }}
            </option>
          {% endfor %}
        </select>
      {% endform %}
    {% endif %} {% endcomment %}

    {% if section.settings.show_language_selector %}
      {% form 'localization', class: 'header-info-bar__item header-info-bar__language' %}
        {{ 'icon-globe.svg' | inline_asset_content }}
        <select name="locale_code" class="header-info-bar__select" onchange="this.form.submit()">
          {% for language in localization.available_languages %}
            <option value="{{ language.iso_code }}" lang="{{ language.iso_code }}" {% if language.iso_code == localization.language.iso_code %}selected{% endif %}>
              {{ language.endonym_name | capitalize }}
            </option>
          {% endfor %}
        </select>
        <svg class="header-info-bar__chevron" width="12" height="8" viewBox="0 0 12 8" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M1 1L6 6L11 1" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      {% endform %}
    {% endif %}
  </div>
</div>

{% stylesheet %}
  .header-info-bar {
    background-color: var(--color-background);
    color: var(--color-text);
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1rem 2rem;
    font-size: 0.75rem;
  }

  .header-info-bar svg {
    width: 14px;
    height: 14px;
  }

  .header-info-bar__left,
  .header-info-bar__right {
    display: flex;
    align-items: center;
    gap: 1.5rem;
  }

  .header-info-bar__item {
    display: flex;
    align-items: center;
    gap: 0.375rem;
    color: var(--color-text);
    text-decoration: none;
    transition: opacity 0.2s ease;
  }

  .header-info-bar__item:hover {
    opacity: 0.7;
  }

  .header-info-bar__icon {
    width: 14px;
    height: 14px;
    flex-shrink: 0;
  }

  .header-info-bar__promo {
    gap: 0.5rem;
  }

  .header-info-bar__promo-link {
    color: var(--color-text);
    font-weight: 600;
    text-decoration: underline;
  }

  .header-info-bar__currency,
  .header-info-bar__language {
    position: relative;
  }

  .header-info-bar__currency form {
    display: flex;
    align-items: center;
    gap: 0.375rem;
  }

  .header-info-bar__select,
  .header-info-bar__currency select {
    appearance: none;
    background: transparent;
    border: none;
    color: var(--color-text);
    font-size: 0.75rem;
    cursor: pointer;
    padding-right: 1.25rem;
    outline: none;
  }

  .header-info-bar__select:hover,
  .header-info-bar__currency select:hover {
    opacity: 0.7;
  }

  .header-info-bar__chevron {
    position: absolute;
    right: 0;
    top: 50%;
    transform: translateY(-50%);
    pointer-events: none;
    width: 10px;
    height: 10px;
  }

  .header-info-bar__language {
    display: flex;
    align-items: center;
    gap: 0.375rem;
  }

  @media (max-width: 1024px) {
    .header-info-bar {
      padding: 0.5rem 1rem;
      gap: 1rem;
    }

    .header-info-bar__left,
    .header-info-bar__right {
      gap: 1rem;
    }

    .header-info-bar__right {
      gap: 1rem;
      display: none;
    }
  }

  @media (max-width: 768px) {
    .header-info-bar {
      flex-direction: column;
      padding: 0.75rem 1rem;
      gap: 0.75rem;
    }

    .header-info-bar__left,
    .header-info-bar__right {
      width: 100%;
      justify-content: center;
      gap: 0.75rem;
      flex-wrap: wrap;
    }

    .header-info-bar__promo {
      flex-direction: column;
      text-align: center;
      gap: 0.25rem;
    }
  }

  @media (max-width: 480px) {
    .header-info-bar__item span {
      display: none;
    }

    .header-info-bar__icon {
      width: 18px;
      height: 18px;
    }

    .header-info-bar__promo span {
      display: block;
    }

    .header-info-bar__select,
    .header-info-bar__currency select {
      padding-right: 0;
    }

    .header-info-bar__chevron {
      display: none;
    }
  }
{% endstylesheet %}

{% schema %}
{
  "name": "t:sections.header_info_bar.title",
  "settings": [
    {
      "type": "header",
      "content": "t:sections.header_info_bar.settings.header.general"
    },
    {
      "type": "header",
      "content": "t:sections.header_info_bar.settings.header.contact"
    },
    {
      "type": "checkbox",
      "id": "show_phone",
      "label": "t:sections.header_info_bar.settings.show_phone",
      "default": true
    },
    {
      "type": "text",
      "id": "phone",
      "label": "t:sections.header_info_bar.settings.phone",
      "default": "+0123456789"
    },
    {
      "type": "checkbox",
      "id": "show_email",
      "label": "t:sections.header_info_bar.settings.show_email",
      "default": true
    },
    {
      "type": "text",
      "id": "email",
      "label": "t:sections.header_info_bar.settings.email",
      "default": "kolles@domain.com"
    },
    {
      "type": "header",
      "content": "t:sections.header_info_bar.settings.header.promo"
    },
    {
      "type": "checkbox",
      "id": "show_promo_text",
      "label": "t:sections.header_info_bar.settings.show_promo_text",
      "default": true
    },
    {
      "type": "text",
      "id": "promo_text",
      "label": "t:sections.header_info_bar.settings.promo_text",
      "default": "Summer sale discount off 50%!"
    },
    {
      "type": "url",
      "id": "promo_link",
      "label": "t:sections.header_info_bar.settings.promo_link"
    },
    {
      "type": "text",
      "id": "promo_link_text",
      "label": "t:sections.header_info_bar.settings.promo_link_text",
      "default": "Shop Now"
    },
    {
      "type": "header",
      "content": "t:sections.header_info_bar.settings.header.location"
    },
    {
      "type": "checkbox",
      "id": "show_location",
      "label": "t:sections.header_info_bar.settings.show_location",
      "default": true
    },
    {
      "type": "text",
      "id": "location_text",
      "label": "t:sections.header_info_bar.settings.location_text",
      "default": "Location"
    },
    {
      "type": "header",
      "content": "t:sections.header_info_bar.settings.header.selectors"
    },
    {
      "type": "checkbox",
      "id": "show_currency_selector",
      "label": "t:sections.header_info_bar.settings.show_currency_selector",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "show_language_selector",
      "label": "t:sections.header_info_bar.settings.show_language_selector",
      "default": true
    },
    {
      "type": "color_scheme",
      "id": "color_scheme",
      "label": "t:sections.header_info_bar.settings.color_scheme",
      "default": "scheme-3",
      "info": "t:sections.header_info_bar.settings.color_scheme_info"
    }
  ],
  "presets": [
    {
      "name": "t:sections.header_info_bar.title",
      "category": "Header"
    }
  ]
}
{% endschema %}
